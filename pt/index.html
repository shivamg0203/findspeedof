<html class="translated-ltr" lang="pt"><head>
<meta charset="UTF-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="Findspeedof lets you find your real-time speed using GPS technology without installing any kind if app." name="description"/>
<link href="https://www.findspeedof.com/" rel="canonical"/>
<meta content="yes" name="mobile-web-app-capable"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="Findspeedof" name="application-name"/>
<meta content="black" name="apple-mobile-web-app-status-bar-style"/>
<meta content="Findspeedof" name="apple-mobile-web-app-title"/>
<link href="/images/touch/website.png" rel="icon" sizes="192x192"/>
<link href="/images/touch/findspeedof_192.png" rel="apple-touch-icon"/>
<link href="https://findspeedof.com/es/" hreflang="es" rel="alternate"/>
<link href="https://findspeedof.com/" hreflang="en" rel="alternate"/>
<meta content="/images/touch/findspeedof_144.png" name="msapplication-TileImage"/>
<meta content="#3f51b5" name="msapplication-TileColor"/>
<meta content="#3f51b5" name="theme-color"/>
<meta content="Findspeedof" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="https://www.findspeedof.in/images/touch/findspeedof_192.png" property="og:image"/>
<meta content="https://www.findspeedof.in/" property="og:url"/>
<meta content="Check your real-time speed in km/h. No installation needed. Use it right away!" property="og:description"/>
<meta content="summary" name="twitter:card"/>
<meta content="https://www.findspeedof.in/" name="twitter:url"/>
<meta content="Findspeedof" name="twitter:title"/>
<meta content="Check your real-time speed in km/h. No installation needed. Use it right away!" name="twitter:description"/>
<meta content="https://www.findspeedof.in/images/touch/findspeedof_192.png" name="twitter:image"/>
<meta content="ca-pub-5200094130124288" name="google-adsense-account"/>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XVPRT0GLGT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XVPRT0GLGT');
</script>

<meta content="Findspeedof" property="og:site_name"/>
<meta content="IE=Edge" http-equiv="X-UA-Compatible"/>
<!-- Primary Meta Tags -->
<title>Calculadora de velocidade GPS | Ferramenta de rastreamento de velocidade em tempo real</title>
<meta content="Accurate real-time GPS speed calculator that measures your current speed, average speed, maximum speed, and acceleration. Perfect for runners, cyclists, and drivers." name="description"/>
<meta content="GPS speed calculator, real-time speed tracker, speedometer, velocity calculator, running speed, cycling speed, driving speed, acceleration calculator" name="keywords"/>
<meta content="Shivam Gupta" name="author"/>
<meta content="index, follow" name="robots"/>
<meta content="/images/touch/Findspeedof_144.png" name="msapplication-TileImage"/>
<meta content="#3f51b5" name="msapplication-TileColor"/>
<meta content="#3f51b5" name="theme-color"/>
<!-- Open Graph / Facebook -->
<meta content="website" property="og:type"/>
<meta content="GPS Speed Calculator | Real-Time Speed Tracking Tool" property="og:title"/>
<meta content="Accurate real-time GPS speed calculator that measures your current speed, average speed, maximum speed, and acceleration." property="og:description"/>
<meta content="https://yourwebsite.com/gps-speed-calculator" property="og:url"/>
<!-- <meta property="og:image" content="https://yourwebsite.com/images/gps-speed-calculator-preview.jpg" /> -->
<meta content="Live Speed Calculator" property="og:site_name"/>
<!-- Twitter -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="GPS Speed Calculator | Real-Time Speed Tracking Tool" name="twitter:title"/>
<meta content="Accurate real-time GPS speed calculator that measures your current speed, average speed, maximum speed, and acceleration." name="twitter:description"/>
<!-- <meta name="twitter:image" content="https://yourwebsite.com/images/gps-speed-calculator-preview.jpg" /> -->
<meta content="myadsenseid" name="google-adsense-account"/>
<!-- Canonical URL -->
<link href="https://findspeedof.com/gps-speed-calculator" rel="canonical"/>
<!-- Favicon -->
<link href="favicon.ico" rel="icon" type="image/x-icon"/>
<link href="/apple-touch-icon.png" rel="apple-touch-icon"/>
<link crossorigin="" href="https://www.gstatic.com" rel="preconnect"/>
<!-- Structured Data -->
<script>

    window.dataLayer = window.dataLayer || [];

    function gtag() { dataLayer.push(arguments); }

    gtag('js', new Date());



    gtag('config', 'mytrackingid');

  </script>
<script type="application/ld+json">

    {

      "@context": "https://schema.org",

      "@type": "WebApplication",

      "name": "GPS Speed Calculator",

      "description": "Real-time speed tracking tool using GPS technology",

      "url": "https://findspeedof.com/gps-speed-calculator",

      "applicationCategory": "UtilitiesApplication",

      "operatingSystem": "Web Browser",

      "offers": {

        "@type": "Offer",

        "price": "0",

        "priceCurrency": "USD"

      }

    }

  </script>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet"/>
<link href="assets/style.css" rel="stylesheet"/>
<style>
    .pageheader {

      background: dodgerblue;

      -webkit-background-clip: text;

      color: transparent;

    }



    /*CSS EDIT*/

    #speed {

      color: black;

      font-size: 8rem;

      font-weight: bold;

    }



    #accuracy {

      color: #4b708c;

      font-size: 1.5rem;

    }



    #avrg {

      color: #2c7be5;

      font-size: 1.5rem;

    }

    .accordion-header, .accordion-collapse{

      display: flex;

      justify-content: center;

    }



    #distance {

      color: #3a5a6f;

      font-size: 1.5rem;

    }



    #maxsp {

      color: green;

      font-size: 1.5rem;

    }



    .card {

      border-radius: 10px;

      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);

      margin-bottom: 20px;

      border: none;

    }



    .other-important-link {

      list-style-type: none;

    }



    .card-body {

      padding: 1.5rem;

    }



    .btn-primary {

      background-color: #4b708c;

      border-color: #4b708c;

    }



    .btn-primary:hover {

      background-color: #3a5a6f;

      border-color: #3a5a6f;

    }



    .feature-icon {

      font-size: 2rem;

      margin-bottom: 1rem;

      color: #4b708c;

    }



    footer {

      background-color: #4b708c;

      color: white;

      padding: 2rem 0;

      margin-top: 3rem;

    }



    .speed-display {

      background-color: white;

      border-radius: 10px;

      padding: 20px;

      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);

      margin-bottom: 20px;

    }



    .lead {

      font-size: 1.25rem !important;

      font-weight: 400;

      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif !important;

      font-family: Open Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;

    }



    .btn-light {

      color: #212529;

      background-color: #f8f9fa;

      border-color: #717171;

    }



    .about {

      margin-inline: 10px;

      margin-block: 10px;

    }



    #readoutUnits {

      display: grid;

      grid-template-columns: repeat(2, 1fr);

      /* 2 cards per row */

      gap: 8px;

      /* slim space between cards */

      max-width: 360px;

      /* looks like a narrow phone screen */

      margin: 0 auto;

      /* center on larger screens */

      padding: 4px;

      margin-top: 12px;

    }



    /* Each metric tile */

    #readoutUnits .measure {

      display: flex;

      flex-direction: column;

      justify-content: center;

      align-items: center;

      margin: 0;

      padding: 2px 8px;

      background: #ffffff;

      border: 1px solid #e2e2e2;

      border-radius: 10px;

      font: 600 1rem/1.2 "Segoe UI", Roboto, sans-serif;

      box-shadow: 0 1px 3px rgba(0, 0, 0, .1);

      text-align: center;

      width: -webkit-fill-available;

    }



    /* Optional: bump the font and spacing a bit on wider screens */

    @media (min-width: 600px) {

      #readoutUnits {

        gap: 12px;

      }



      #readoutUnits .metric {

        font-size: 1.1rem;

        padding: 2px 10px;

      }

    }



    .metricunit {

      margin-bottom: 5px !important;

      color: #757575 !important;

    }



    #spdunit {

      font-weight: 700;

      padding-left: 5px;

    }

  </style>
</head>
<body>
<!-- Main Content -->
<div class="container mt-4">
<h1 class="text-center pageheader">Findspeedof</h1>
<p class="text-center lead">Monitore sua velocidade e seus movimentos em tempo real usando o Velocímetro Online.</p>
<div class="row justify-content-center">
<div class="col-md-8" style="padding-top: 0rem;">
<div class="container mt-2" style="padding-top: 1rem;">
<p class="text-center" style="padding-top: 0rem;display: grid;"><span id="speed">0</span><span id="spdunit">km/h</span></p>
<div class="justify-content-center d-flex" style="padding-top:1rem;padding-bottom:1rem;">
<div class="mb-3">
<!-- <option value="unknown" >Select Accuracy Level</option> -->
<button class="btn btn-light kmph" disabled="" onclick="speedunitfunc('kmph')" type="button">Km/h</button>
<button class="btn btn-light meters" onclick="speedunitfunc('meters')" type="button">EM</button>
<button class="btn btn-light mph" onclick="speedunitfunc('mph')" type="button">mph</button>
</div>
</div>
<div class="justify-content-center d-flex">
<form action="" method="get">
<!-- <select id="accselector" class="form-select" aria-label="Default select example">

          <option value="unknown" selected="">Change Accuracy</option>

          <option value="true">High</option>

          <option value="false">Low</option>

        </select> -->
<!-- <button type="button" onclick="manageAccuracy()" class="btn btn-info">

            Accuracy

          </button> -->
<div style="display: flex;justify-content: space-evenly;gap:1rem">
<button class="btn btn-info" id="strstpbtn" onclick="starter()" type="button">
<i class="bi bi-play-fill"></i>Começar

                </button>
<button class="btn btn-info" onclick="restart()" type="button">

                  Reiniciar

                </button>
<button class="btn btn-info" onclick="toggleAdvancedMenu()" type="button">Mais opções<i class="bi bi-arrow-down-square-fill"></i></button>
</div>
<!-------------------------Remove this section if this file throws error------------------->
<div class="metadata d-none" id="readoutUnits">
<div class="measure"> <span id="maxsp">0</span>
<p class="metric">km/h</p>
<p class="metricunit">Máximo</p>
</div>
<div class="measure"> <span id="avrg">0</span>
<p class="metric">km/h</p>
<p class="metricunit">Média</p>
</div>
<div class="measure"> <span id="accuracy">0</span>
<p class="metric">M</p>
<p class="metricunit">Precisão</p>
</div>
<div class="measure"> <span id="distance">0</span>
<p class="metric">M</p>
<p class="metricunit">Distância</p>
</div>
</div>
<!------------------------------------------------------------------------------------------>
</form>
</div>
<p class="text-center text-danger" id="error"></p>
</div>
</div>
</div>
<article class="about">O Findspeedof.com é um velocímetro online gratuito que mede a velocidade em tempo real de qualquer objeto ou veículo em movimento. Você pode usá-lo para verificar a velocidade de trens, carros, bicicletas ou atletas. É um velocímetro baseado em GPS.</article>
<!-- Features Section -->
<section class="mt-5" id="features">
<article class="key-features">
<h3 class="text-center mb-4" style="font-size: 2.4rem;">Principais características</h3>
<div class="row">
<div class="col-md-4 mb-4">
<div class="card h-100 text-center">
<div class="card-body">
<div class="feature-icon">
<i class="bi bi-speedometer2"></i>
</div>
<h3 class="h5">Velocidade em tempo real</h3>
<p>Quer saber a velocidade com que você está viajando ou se movendo neste momento? Descubra aqui.</p>
</div>
</div>
</div>
<div class="col-md-4 mb-4">
<div class="card h-100 text-center">
<div class="card-body">
<div class="feature-icon">
<i class="bi bi-graph-up"></i>
</div>
<h3 class="h5">Sem instalação de aplicativo</h3>
<p>Use este velocímetro online para verificar sua velocidade atual, velocidade média e velocidade máxima — tudo sem precisar instalar nenhum aplicativo.</p>
</div>
</div>
</div>
<div class="col-md-4 mb-4">
<div class="card h-100 text-center">
<div class="card-body">
<div class="feature-icon">
<i class="bi bi-battery-full"></i>
</div>
<h3 class="h5">Outras unidades</h3>
<p>Selecione a unidade de velocidade desejada entre km/h, mph e metros por segundo.</p>
</div>
</div>
</div>
</div>
</article>
</section>
<!-- How It Works Section -->
<section class="mt-5" id="how-it-works">
<div class="card">
<div class="card-body">
<h2 class="text-center mb-4">Casos de uso e funcionamento de velocímetros online.</h2>
<div class="row">
<div class="col-md-6">
<article class="use-cases">
<h3>Casos de uso</h3>
<ul>
<li>Meça a velocidade do trem online ou faça um teste de velocidade do trem ao vivo.</li>
<li>Meça a velocidade do seu carro online ou faça um teste de velocidade ao vivo.</li>
<li>Meça a velocidade da sua bicicleta online ou faça um teste de velocidade ao vivo.</li>
<li>Meça a velocidade da bicicleta online ou faça um teste de velocidade ao vivo.</li>
<li>Consulte a velocidade do ônibus online ou faça um teste de velocidade ao vivo.</li>
<li>Verifique a velocidade de corrida ou faça um teste de velocidade de corrida ao vivo.</li>
<li>Verifique a velocidade do atleta ou faça um teste de velocidade ao vivo com um atleta.</li>
<li>Consulte a velocidade média online ou o velocímetro online.</li>
</ul>
</article>
</div>
<div class="col-md-6">
<article class="how-to-use">
<h3>Como usar o velocímetro GPS?</h3>
<p>Meça sua velocidade online usando seu smartphone ou tablet. Basta seguir estes passos.</p>
<ul>
<li>Clique no botão Iniciar.</li>
<li>Permitir acesso à localização do usuário.</li>
<li>O rastreamento de velocidade começa.</li>
<li>Você pode escolher entre as unidades de medida conforme a sua necessidade.</li>
</ul>
</article>
</div>
</div>
</div>
</div>
</section>
<!-- FAQ Section -->
<section class="mt-5" id="faq">
<h2 class="text-center mb-4">Perguntas frequentes</h2>
<div class="accordion" id="faqAccordion">
<div class="accordion-item">
<h3 class="accordion-header" id="headingOne">
<button aria-controls="collapseOne" aria-expanded="true" class="accordion-button collapsed" data-bs-target="#collapseOne" data-bs-toggle="collapse" type="button">

              Qual a precisão do calculador de velocidade GPS?

            </button>
</h3>
<div aria-labelledby="headingOne" class="accordion-collapse collapse" data-bs-parent="#faqAccordion" id="collapseOne">
<div class="accordion-body">

              A precisão depende dos recursos de GPS do seu dispositivo e de fatores ambientais. Normalmente, os smartphones modernos conseguem medir a velocidade com uma precisão de ±0,5 a 2 km/h em boas condições.</div>
</div>
</div>
<div class="accordion-item">
<h3 class="accordion-header" id="headingTwo">
<button aria-controls="collapseTwo" aria-expanded="false" class="accordion-button collapsed" data-bs-target="#collapseTwo" data-bs-toggle="collapse" type="button">

              Posso verificar a velocidade do veículo no iPhone?

            </button>
</h3>
<div aria-labelledby="headingTwo" class="accordion-collapse collapse" data-bs-parent="#faqAccordion" id="collapseTwo">
<div class="accordion-body">

              Sim, o velocímetro online do Findspeedof.com funciona perfeitamente, inclusive no iPhone. Para descobrir a velocidade do seu veículo, basta acessar findspeedof.com no seu dispositivo e clicar no botão "Iniciar".

            </div>
</div>
</div>
<div class="accordion-item">
<h3 class="accordion-header" id="headingThree">
<button aria-controls="collapseThree" aria-expanded="false" class="accordion-button collapsed" data-bs-target="#collapseThree" data-bs-toggle="collapse" type="button">

              Como medir a velocidade de corrida ou trote de uma pessoa?

            </button>
</h3>
<div aria-labelledby="headingThree" class="accordion-collapse collapse" data-bs-parent="#faqAccordion" id="collapseThree">
<div class="accordion-body">

              Você pode medir facilmente sua velocidade de corrida ou caminhada acessando o velocímetro em findspeedof.com, habilitando o acesso à localização e clicando no botão Iniciar. Assim que você começar a correr ou caminhar, sua velocidade em tempo real, velocidade média, velocidade máxima e distância serão exibidas com precisão usando a tecnologia GPS.

            </div>
</div>
</div>
<div class="accordion-item">
<h3 class="accordion-header" id="headingFour">
<button aria-controls="collapseFour" aria-expanded="false" class="accordion-button collapsed" data-bs-target="#collapseFour" data-bs-toggle="collapse" type="button">

              Por que minha velocidade aparece como 0 km/h quando estou em movimento?

            </button>
</h3>
<div aria-labelledby="headingFour" class="accordion-collapse collapse" data-bs-parent="#faqAccordion" id="collapseFour">
<div class="accordion-body">

              This usually happens when the GPS signal is low or blocked. Move to an open area, refresh the website,

              allow location access and click 'Start' button again.

            </div>
</div>
</div>
</div>
</section>
</div>
<!-- Footer -->
<footer>
<div class="container">
<div class="row">
<div class="col-md-6">
<h3>Outras ferramentas importantes</h3>
<ul class="other-important-link">
<li>
<a href="https://www.findspeedof.com/vande-bharat-train-speed-test">Teste de velocidade do trem Vande Bharat</a>
</li>
<li>
<a href="https://www.findspeedof.com/bullet-train-speed-test">Teste de velocidade do trem-bala</a>
</li>
<li>
<a href="https://www.findspeedof.com/metro-train-speed-test">Teste de velocidade do trem do metrô</a>
</li>
</ul>
</div>
<div class="col-md-3">
<h3>Links rápidos</h3>
<ul class="list-unstyled">
<li><a href="https://www.findspeedof.com/about-us">Sobre</a></li>
<li><a href="https://www.findspeedof.com/privacy-policy">política de Privacidade</a></li>
<li><a href="https://www.findspeedof.com/contact-us">Contate-nos</a></li>
<li><a href="https://www.findspeedof.com/terms-and-conditions">Termos e Condições</a></li>
</ul>
</div>
<div class="col-md-3">
<h3>Compartilhar</h3>
<ul class="list-unstyled">
<li><a href="https://twitter.com/intent/tweet?text=Check%20this%20GPS%20Speed%20Calculator!%20https://www.findspeedof.com" rel="noopener noreferrer" target="_blank"><i class="bi bi-twitter"></i>Twitter</a></li>
<li><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.findspeedof.com" rel="noopener noreferrer" target="_blank"><i class="bi bi-facebook"></i>Facebook</a></li>
<li><a class="bi" href="https://api.whatsapp.com/send?text=Check out this free online speedometer: %0A%0A" onclick="this.href='https://api.whatsapp.com/send?text=Check out this free online speedometer: %0A%0A' + encodeURIComponent(window.location.href);" target="_blank">
<i class="bi bi-instagram"></i>WhatsApp</a></li>
</ul>
</div>
</div>
<hr/>
<div class="row">
<div class="col-md-12 text-center">
<p class="mb-0">© 2023 Calculadora de Velocidade GPS. Todos os direitos reservados.</p>
</div>
</div>
</div>
</footer>
<script crossorigin="anonymous" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>

    let watchID;

    let previousPosition;

    let previousTimestamp;



    let toggleaccuracy = true;

    let modalsbut = document.querySelector("#modalopac")



    let avg = document.querySelector("#avrg")

    let ma = document.querySelector("#maxsp")

    let prevspeed, prevtime;

    //let showAcc = false;

    let speedCount = 0

    let totalSpeed = 0

    let maxspeed = 0

    let average = 0

    let unit = 'kmph'

    let tracking = false;

    function restart() {

      stopTracking();

      if (!tracking) {

        starter();

      }

      else {

        startTracking();

      }

    }

    function starter() {

      if (!tracking) {

        tracking = true;

        //toggleaccuracy = accsele.value; //TO MAKE CLEAR IF HIGH ACCURACY IS SELECTED OR LOW ACCU.

        document.querySelector('#strstpbtn').innerHTML = `<i class="bi bi-stop-fill"></i> Stop`

        startTracking();

      } else {

        document.querySelector('#strstpbtn').innerHTML = `<i class="bi bi-play-fill"></i> Start`;

        stopTracking();

        tracking = false;

      }

      /*if (manageAccuracy()) {console.log(accsele.value)startTracking(); }*/

    }



    function stopper() {

      stopTracking();

    }



    function toggleAdvancedMenu() {

      const advancedMenu = document.getElementById('readoutUnits');

      advancedMenu.classList.toggle('d-none');

    }



    function speedunitfunc(vall) {    /*DISABLEING BUTTON OF KMPH OR MPS WHEN CLICK AND ENABLE OTHERS*/

      a = ['meters', 'mph', 'kmph']

      unit = vall;

      for (let el of a) {

        if (el == vall) {

          document.getElementsByClassName(el)[0].disabled = true;

          if (el == 'meters') {

            if (!watchID) {

              document.querySelector('#spdunit').innerText = 'm/s'

            }

          }

          else {

            if (!watchID) {

              document.querySelector('#spdunit').innerText = el

            }

          }

        }

        else { document.getElementsByClassName(el)[0].disabled = false; }

      }

    }



    function calculateSpeed(position) {

      const {

        latitude,

        longitude,

        accuracy

      } = position.coords;

      console.log(toggleaccuracy)

      const currentTimestamp = position.timestamp;

      if (previousPosition && previousTimestamp) {

        const distance = getDistance(

          previousPosition.latitude,

          previousPosition.longitude,

          latitude,

          longitude

        );

        const timeElapsed = (currentTimestamp - previousTimestamp) / 1000; // in seconds

        if (timeElapsed > 0) {

          let speed = (distance / timeElapsed) // m/s



          if (unit === 'kmph') {

            speed = speed * 3.6;

            //unitLabel = 'km/h';

            document.getElementById("speed").innerText = `${speed.toFixed(2)}`;

          } else if (unit === 'mph') {

            speed = speed * 2.23694;

            document.getElementById("speed").innerText = `${speed.toFixed(2)}`;

            // unitLabel = 'mph';

          } else {

            //speed = rawSpeedMS;

            document.getElementById("speed").innerText = `${speed.toFixed(2)}`;

            //unitLabel = 'm/s';

          }

          //document.getElementById("speed").innerText = speed.toFixed(2);

          document.getElementById("accuracy").innerText = accuracy.toFixed(2);

          totalSpeed += speed;

          speedCount += 1;

          if (speedCount > 0) {

            average = Number(totalSpeed / speedCount)

          }

          avg.innerText = average.toFixed(2)

          if (speed.toFixed(2) > maxspeed) {

            maxspeed = Number(speed.toFixed(2))

            ma.innerText = maxspeed

          }



        }

      }

      previousPosition = {

        latitude,

        longitude

      };

      previousTimestamp = currentTimestamp;

    }



    function getDistance(lat1, lon1, lat2, lon2) {

      const R = 6371e3; // metres

      const φ1 = (lat1 * Math.PI) / 180;

      const φ2 = (lat2 * Math.PI) / 180;

      const Δφ = ((lat2 - lat1) * Math.PI) / 180;

      const Δλ = ((lon2 - lon1) * Math.PI) / 180;

      const a =

        Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +

        Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);

      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));

      const distance = R * c; // in metres

      return distance;

    }



    function showError(error) {

      switch (error.code) {

        case error.PERMISSION_DENIED:

          document.getElementById("error").innerText =

            "User denied the request for Geolocation. Please enable location services to use this tool.";

          break;

        case error.POSITION_UNAVAILABLE:

          document.getElementById("error").innerText =

            "Location information is unavailable. Please check your GPS signal.";

          break;

        case error.TIMEOUT:

          document.getElementById("error").innerText =

            "The request to get user location timed out. Please try again.";

          break;

        case error.UNKNOWN_ERROR:

          document.getElementById("error").innerText =

            "An unknown error occurred. Please refresh the page and try again.";

          break;

      }

    }



    function showLocation() {

      if (navigator.geolocation) {

        navigator.geolocation.getCurrentPosition(position => {

          const {

            latitude,

            longitude

          } = position.coords;

          alert(`Your current location:\nLatitude: ${latitude}\nLongitude: ${longitude}\nAccuracy: ${position.coords.accuracy} meters`);

        }, showError);

      } else {

        document.getElementById('error').innerText = "Geolocation is not supported by this browser.";

      }

    }



    function startTracking() {

      try {

        let details = navigator.userAgent;

        let regexp = /android|iphone|kindle|ipad/i;

        let isMobileDevice = regexp.test(details);

        console.log(toggleaccuracy)

        var vartimeout;

        if (isMobileDevice) {

          vartimeout = 5000;

          console.log(`Mobile device detected - using faster update interval (${vartimeout}ms)`);

        } else {

          vartimeout = 15000;

          console.log(`Desktop detected - using slower update interval (${vartimeout}ms)`);

        }

      } catch (e) {

        console.error(`Error detecting device type: ${e}`)

      }



      if (navigator.geolocation) {

        watchID = navigator.geolocation.watchPosition(

          calculateSpeed,

          showError, {

          enableHighAccuracy: toggleaccuracy,

          maximumAge: 1000,

          timeout: 15000,

        }

        );

      } else {

        document.getElementById("error").innerText =

          "Geolocation is not supported by this browser. Please try a modern browser like Chrome, Firefox, or Safari.";

      }

    }



    function stopTracking() {

      try {

        if (navigator.geolocation && watchID !== undefined) {

          navigator.geolocation.clearWatch(watchID);

          watchID = undefined;

          document.getElementById("speed").innerText = "0";

          document.getElementById("accuracy").innerText = "0";

          avg.innerText = '0';

          ma.innerText = '0';

          speedCount = 0;

          totalSpeed = 0;

          maxspeed = 0;

          average = 0;

          console.log("stopping")

        }

      }

      catch (err) {

        console.error(err)

      }

    }



    // Initialize the page with better error handling

    document.addEventListener('DOMContentLoaded', function () {

      if (!navigator.geolocation) {

        document.getElementById('error').innerText =

          "Your browser doesn't support geolocation, which is required for this tool. " +

          "Please try a modern browser.";

      }

    });

  </script>

</body></html>