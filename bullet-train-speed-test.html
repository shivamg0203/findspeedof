<!DOCTYPE html>
<html lang="en">

<head>

  <meta http-equiv=X-UA-Compatible content="IE=edge">
  <meta name=description content="Check your real-time speed in km/h using GPS without any native app installation">
  <meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=5.0, user-scalable=1">
  <link rel=canonical href="https://www.findspeedof.in/">
  <meta name=mobile-web-app-capable content=yes>
  <meta name=apple-mobile-web-app-capable content=yes>
  <meta name=application-name content=Findspeedof>
  <meta name=apple-mobile-web-app-status-bar-style content=black>
  <meta name=apple-mobile-web-app-title content=Findspeedof>
  <link rel=icon sizes=192x192 href=/images/touch/website.png>
  <link rel=apple-touch-icon href=/images/touch/findspeedof_192.png>
  <meta name=msapplication-TileImage content=/images/touch/findspeedof_144.png>
  <meta name=msapplication-TileColor content=#3f51b5>
  <meta name=theme-color content=#3f51b5>
  <meta property=og:title content=Findspeedof>
  <meta property=og:type content=website>
  <meta property=og:image content=https://www.findspeedof.in/images/touch/findspeedof_192.png>
  <meta property=og:url content="https://www.findspeedof.in/">
  <meta property=og:description
    content="Check your real-time speed in km/h. No installation needed. Use it right away!">
  <meta name=twitter:card content=summary>
  <meta name=twitter:url content="https://www.findspeedof.in/">
  <meta name=twitter:title content=Findspeedof>
  <meta name=twitter:description
    content="Check your real-time speed in km/h. No installation needed. Use it right away!">
  <meta name=twitter:image content=https://www.findspeedof.in/images/touch/findspeedof_192.png>
  <meta name=google-adsense-account content=ca-pub-5200094130124288>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-3#######H');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5200094130124288"
    crossorigin=anonymous></script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:site_name" content="web.dev">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <!-- Primary Meta Tags -->
  <title>Check Bullet Train Speed Live | FindSpeedOf</title>
  <meta name="description"
    content="Accurate real-time GPS speed calculator that measures your current speed, average speed, maximum speed, and acceleration. Perfect for runners, cyclists, and drivers." />
  <meta name="keywords"
    content="GPS speed calculator, real-time speed tracker, speedometer, velocity calculator, running speed, cycling speed, driving speed, acceleration calculator" />
  <meta name="author" content="Shivam Gupta" />
  <meta name="robots" content="index, follow" />
  <meta name=msapplication-TileImage content=/images/touch/Findspeedof_144.png>
  <meta name=msapplication-TileColor content=#3f51b5>
  <meta name=theme-color content=#3f51b5>
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="GPS Speed Calculator | Real-Time Speed Tracking Tool" />
  <meta property="og:description"
    content="Accurate real-time GPS speed calculator that measures your current speed, average speed, maximum speed, and acceleration." />
  <meta property="og:url" content="https://yourwebsite.com/gps-speed-calculator" />
  <!-- <meta property="og:image" content="https://yourwebsite.com/images/gps-speed-calculator-preview.jpg" /> -->
  <meta property="og:site_name" content="Live Speed Calculator" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="GPS Speed Calculator | Real-Time Speed Tracking Tool" />
  <meta name="twitter:description"
    content="Accurate real-time GPS speed calculator that measures your current speed, average speed, maximum speed, and acceleration." />
  <!-- <meta name="twitter:image" content="https://yourwebsite.com/images/gps-speed-calculator-preview.jpg" /> -->
  <meta name=google-adsense-account content=myadsenseid>
  <!-- Canonical URL -->
  <link rel="canonical" href="https://findspeedof.com/gps-speed-calculator" />

  <!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
  <!-- Structured Data -->
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'mytrackingid');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=myadsenseid"
    crossorigin=anonymous></script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "GPS Speed Calculator",
      "description": "Real-time speed tracking tool using GPS technology",
      "url": "https://findspeedof.com/gps-speed-calculator",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
  </script>

  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel=stylesheet href="assets/style.css">
  <style>
    a {
      color: white;
    }

    .accordion-button {
      width: 80%;
    }

    .accordion-body {
      width: 78%
    }

    body {
      background-color: rgb(247, 249, 235);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
    }

    .pageheader {
      background: dodgerblue;
      -webkit-background-clip: text;
      color: transparent;
    }

    /*CSS EDIT*/
    #speed {
      color: black;
      font-size: 8rem;
      font-weight: bold;
    }

    #accuracy {
      color: #4b708c;
      font-size: 1.5rem;
    }

    #avrg {
      color: #2c7be5;
      font-size: 1.5rem;
    }
    .accordion-header, .accordion-collapse{
      display: flex;
      justify-content: center;
    }

    #distance {
      color: #3a5a6f;
      font-size: 1.5rem;
    }

    #maxsp {
      color: green;
      font-size: 1.5rem;
    }

    .card {
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
      margin-bottom: 20px;
      border: none;
    }

    .other-important-link {
      list-style-type: none;
    }

    .card-body {
      padding: 1.5rem;
    }

    .btn-primary {
      background-color: #4b708c;
      border-color: #4b708c;
    }

    .btn-primary:hover {
      background-color: #3a5a6f;
      border-color: #3a5a6f;
    }

    .feature-icon {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: #4b708c;
    }

    footer {
      background-color: #4b708c;
      color: white;
      padding: 2rem 0;
      margin-top: 3rem;
    }

    .speed-display {
      background-color: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }

    .lead {
      font-size: 1.25rem !important;
      font-weight: 400;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif !important;
      font-family: Open Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;
    }

    .btn-light {
      color: #212529;
      background-color: #f8f9fa;
      border-color: #717171;
    }

    .about {
      margin-inline: 10px;
      margin-block: 10px;
    }

    #readoutUnits {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      /* 2 cards per row */
      gap: 8px;
      /* slim space between cards */
      max-width: 360px;
      /* looks like a narrow phone screen */
      margin: 0 auto;
      /* center on larger screens */
      padding: 4px;
      margin-top: 12px;
    }

    /* Each metric tile */
    #readoutUnits .measure {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      margin: 0;
      padding: 2px 8px;
      background: #ffffff;
      border: 1px solid #e2e2e2;
      border-radius: 10px;
      font: 600 1rem/1.2 "Segoe UI", Roboto, sans-serif;
      box-shadow: 0 1px 3px rgba(0, 0, 0, .1);
      text-align: center;
      width: -webkit-fill-available;
    }

    /* Optional: bump the font and spacing a bit on wider screens */
    @media (min-width: 600px) {
      #readoutUnits {
        gap: 12px;
      }

      #readoutUnits .metric {
        font-size: 1.1rem;
        padding: 2px 10px;
      }
    }

    .metricunit {
      margin-bottom: 5px !important;
      color: #757575 !important;
    }

    #spdunit {
      font-weight: 700;
      padding-left: 5px;
    }
  </style>
</head>

<body>
  <!-- Main Content -->
  <div class="container mt-4">
    <h1 class="text-center pageheader">Bullet Train Speed Test Live</h1>
    <p class="text-center lead">Track your real-time speed & movement metrics using Online Speedometer.</p>

    <div class="row justify-content-center">
      <div class="col-md-8" style="padding-top: 0rem;">
        <div class="container mt-2" style="padding-top: 1rem;">
          <p class="text-center" style="padding-top: 0rem;display: grid;"><span id="speed">0</span><span
              id="spdunit">km/h</span></p>

          <div class="justify-content-center d-flex" style="padding-top:1rem;padding-bottom:1rem;">
            <div class="mb-3">
              <!-- <option value="unknown" >Select Accuracy Level</option> -->
              <button type="button" onclick="speedunitfunc('kmph')" class="btn btn-light kmph" disabled>Km/h</button>
              <button type="button" onclick="speedunitfunc('meters')" class="btn btn-light meters">m/s</button>
              <button type="button" onclick="speedunitfunc('mph')" class="btn btn-light mph">mph</button>

            </div>
          </div>

          <div class="justify-content-center d-flex">
            <form action="" method="get">
              <div style="display: flex;justify-content: space-evenly;gap:1rem">
                <button id="strstpbtn" type="button" onclick="starter()" class="btn btn-info">
                  <i class="bi bi-play-fill"></i>Start
                </button>
                <button type="button" onclick="restart()" class="btn btn-info">
                  Restart
                </button>
                <button type="button" onclick="toggleAdvancedMenu()" class="btn btn-info">More Option <i
                    class="bi bi-arrow-down-square-fill"></i></button>
              </div>


              <!-------------------------Remove this section if this file throws error------------------->

              <div class="metadata d-none" id="readoutUnits">

                <div class="measure"> <span id="maxsp">0</span>
                  <p class="metric">kmph</p>
                  <p class="metricunit">Max</p>
                </div>

                <div class="measure"> <span id="avrg">0</span>
                  <p class="metric">kmph </p>
                  <p class="metricunit">Average</p>
                </div>
                <div class="measure"> <span id="accuracy">0</span>
                  <p class="metric">M</p>
                  <p class="metricunit">Accuracy</p>
                </div>
                <div class="measure"> <span id="distance">0</span>
                  <p class="metric">M </p>
                  <p class="metricunit">Distance</p>
                </div>
              </div>


              <!------------------------------------------------------------------------------------------>

            </form>
          </div>


          <p class="text-center text-danger" id="error"></p>

        </div>

      </div>
    </div>

    <article class="about">Findspeedof is an online speedometer designed to measure the real-time speed of Bullet Trains.
With the help of GPS technology, this tool allows you to track the live speed of high-velocity bullet trains accurately while traveling.</article>
    <!-- Features Section -->

    <section id="features" class="mt-5">
      <article class="key-features">
        <h3 class="text-center mb-4" style="font-size: 2.4rem;">Key Features</h3>
        <div class="row">
          <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
              <div class="card-body">
                <div class="feature-icon">
                  <i class="bi bi-speedometer2"></i>
                </div>
                <h3 class="h5">Real-Time Speed</h3>
                <p>Do you want to know the speed at which you are travelling in a bullet train? Findspeedof lets you do so.</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
              <div class="card-body">
                <div class="feature-icon">
                  <i class="bi bi-graph-up"></i>
                </div>
                <h3 class="h5">No App installation</h3>
                <p>Without Installing any app use this online speedometer to check bullet train's current speed, average speed and max speed.</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
              <div class="card-body">
                <div class="feature-icon">
                  <i class="bi bi-battery-full"></i>
                </div>
                <h3 class="h5">Other Units</h3>
                <p>View bullet train speed in km/h, mph, or meters per second with accurate GPS-based measurement.</p>
              </div>
            </div>
          </div>
        </div>
      </article>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="mt-5">
      <div class="card">
        <div class="card-body">
          <h2 class="text-center mb-4">Online speedometer use cases and working.</h2>
          <div class="row">

            <div class="col-md-6">
              <article class="what-is-bullet-train">
                <h3>What is known as a Bullet Train?</h3>
                <p>A bullet train is a high-speed passenger train designed to travel at extremely fast speeds on specially built tracks. The name “bullet train” comes from its sleek, aerodynamic shape and its ability to move as fast and smoothly as a bullet compared to traditional trains.</p>

<p>Bullet trains usually operate at speeds between 250 km/h and 350 km/h, making them one of the fastest modes of land transport in the world. Unlike regular trains, they run on dedicated rail lines, which means there are no road crossings or slow freight trains to interrupt their journey.

</p><p>The world’s first bullet train was launched in Japan in 1964, known as the Shinkansen. Bullet trains are known for their speed, safety, comfort, and punctuality. Advanced signaling systems, modern braking technology, and strict safety standards make them one of the safest ways to travel.

                </p>
              </article>
            </div>

            <div class="col-md-6">
              <article class="how-to-use-bullet-train-speedometer">
                <h3>How to use Bullet Train Speedometer?</h3>
                <p>Measure your train's speed online using your smartphone or tablet. You just have to follow these steps</p>
                <ul>
                  <li>Click Start Button.</li>
                  <li>Allow User location permission access.</li>
                  <li>Speed Tracking Starts.</li>
                  <li>You can choose between measurements units as per need.</li>
                </ul>
              </article>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="mt-5">
      <h2 class="text-center mb-4">Frequently Asked Questions</h2>
      <div class="accordion" id="faqAccordion">
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
              aria-expanded="true" aria-controls="collapseOne">
              What is the average speed of a bullet train?
            </button>
          </h3>
          <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
            data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              The average operating speed of a bullet train is usually between 250 km/h and 300 km/h, depending on the country and route. Some sections allow higher speeds for short durations.</div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              What is the maximum speed of a bullet train?
            </button>
          </h3>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
            data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Most modern bullet trains can reach a top speed of 320–350 km/h. Experimental models have gone even faster under test conditions.
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              Is bullet train speed higher than Vande Bharat?
            </button>
          </h3>
          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
            data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Yes, bullet trains operate at much higher speeds than Vande Bharat Express trains. Bullet trains run at up to 320 km/h whereas vande bharat train run at 160-180 km/h.
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h3 class="accordion-header" id="headingFour">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
              Can I check bullet train speed on my mobile phone?
            </button>
          </h3>
          <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
            data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Yes. You can check bullet train speed using your mobile browser without installing any app. A GPS-enabled online speedometer works on both Android and iOS devices.
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>



  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h3>Other Important Tools</h3>
          <ul class="other-important-link">
            <li>
              <a href="https://www.findspeedof.com/vande-bharat-train-speed-test">Vande Bharat Train Speed Test</a>
            </li>
            <li>
              <a href="https://www.findspeedof.com/bullet-train-speed-test">Bullet Train Speed Test</a>
            </li>
            <li>
              <a href="https://www.findspeedof.com/metro-train-speed-test">Metro Train Speed Test</a>
            </li>

          </ul>
        </div>
        <div class="col-md-3">
          <h3>Quick Links</h3>
          <ul class="list-unstyled">
            <li><a href="https://www.findspeedof.com/about-us">About</a></li>
            <li><a href="https://www.findspeedof.com/privacy-policy">Privacy Policy</a></li>
            <li><a href="https://www.findspeedof.com/contact-us">Contact Us</a></li>
            <li><a href="https://www.findspeedof.com/terms-and-conditions">Terms and Conditions</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h3>Share</h3>
          <ul class="list-unstyled">
            <li><a
                href="https://twitter.com/intent/tweet?text=Check%20this%20GPS%20Speed%20Calculator!%20https://www.findspeedof.com"
                target="_blank" rel="noopener noreferrer"><i class="bi bi-twitter"></i> Twitter</a></li>
            <li><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.findspeedof.com" target="_blank"
                rel="noopener noreferrer"><i class="bi bi-facebook"></i> Facebook</a></li>
            <li><a href="https://api.whatsapp.com/send?text=Check out this free online speedometer: %0A%0A"
                onclick="this.href='https://api.whatsapp.com/send?text=Check out this free online speedometer: %0A%0A' + encodeURIComponent(window.location.href);"
                target="_blank" class="bi">
                <i class="bi bi-instagram"></i> Whatsapp</a></li>
          </ul>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col-md-12 text-center">
          <p class="mb-0">&copy; 2023 GPS Speed Calculator. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script>
    let watchID;
    let previousPosition;
    let previousTimestamp;

    let toggleaccuracy = true;
    let modalsbut = document.querySelector("#modalopac")

    let avg = document.querySelector("#avrg")
    let ma = document.querySelector("#maxsp")
    let prevspeed, prevtime;
    //let showAcc = false;
    let speedCount = 0
    let totalSpeed = 0
    let maxspeed = 0
    let average = 0
    let unit = 'kmph'
    let tracking = false;
    function restart() {
      stopTracking();
      if (!tracking) {
        starter();
      }
      else {
        startTracking();
      }
    }
    function starter() {
      if (!tracking) {
        tracking = true;
        //toggleaccuracy = accsele.value; //TO MAKE CLEAR IF HIGH ACCURACY IS SELECTED OR LOW ACCU.
        document.querySelector('#strstpbtn').innerHTML = `<i class="bi bi-stop-fill"></i> Stop`
        startTracking();
      } else {
        document.querySelector('#strstpbtn').innerHTML = `<i class="bi bi-play-fill"></i> Start`;
        stopTracking();
        tracking = false;
      }
      /*if (manageAccuracy()) {console.log(accsele.value)startTracking(); }*/
    }

    function stopper() {
      stopTracking();
    }

    function toggleAdvancedMenu() {
      const advancedMenu = document.getElementById('readoutUnits');
      advancedMenu.classList.toggle('d-none');
    }

    function speedunitfunc(vall) {    /*DISABLEING BUTTON OF KMPH OR MPS WHEN CLICK AND ENABLE OTHERS*/
      a = ['meters', 'mph', 'kmph']
      unit = vall;
      for (let el of a) {
        if (el == vall) {
          document.getElementsByClassName(el)[0].disabled = true;
          if (el == 'meters') {
            if (!watchID) {
              document.querySelector('#spdunit').innerText = 'm/s'
            }
          }
          else {
            if (!watchID) {
              document.querySelector('#spdunit').innerText = el
            }
          }
        }
        else { document.getElementsByClassName(el)[0].disabled = false; }
      }
    }

    function calculateSpeed(position) {
      const {
        latitude,
        longitude,
        accuracy
      } = position.coords;
      console.log(toggleaccuracy)
      const currentTimestamp = position.timestamp;
      if (previousPosition && previousTimestamp) {
        const distance = getDistance(
          previousPosition.latitude,
          previousPosition.longitude,
          latitude,
          longitude
        );
        const timeElapsed = (currentTimestamp - previousTimestamp) / 1000; // in seconds
        if (timeElapsed > 0) {
          let speed = (distance / timeElapsed) // m/s

          if (unit === 'kmph') {
            speed = speed * 3.6;
            //unitLabel = 'km/h';
            document.getElementById("speed").innerText = `${speed.toFixed(2)}`;
          } else if (unit === 'mph') {
            speed = speed * 2.23694;
            document.getElementById("speed").innerText = `${speed.toFixed(2)}`;
            // unitLabel = 'mph';
          } else {
            //speed = rawSpeedMS;
            document.getElementById("speed").innerText = `${speed.toFixed(2)}`;
            //unitLabel = 'm/s';
          }
          //document.getElementById("speed").innerText = speed.toFixed(2);
          document.getElementById("accuracy").innerText = accuracy.toFixed(2);
          totalSpeed += speed;
          speedCount += 1;
          if (speedCount > 0) {
            average = Number(totalSpeed / speedCount)
          }
          avg.innerText = average.toFixed(2)
          if (speed.toFixed(2) > maxspeed) {
            maxspeed = Number(speed.toFixed(2))
            ma.innerText = maxspeed
          }

        }
      }
      previousPosition = {
        latitude,
        longitude
      };
      previousTimestamp = currentTimestamp;
    }

    function getDistance(lat1, lon1, lat2, lon2) {
      const R = 6371e3; // metres
      const φ1 = (lat1 * Math.PI) / 180;
      const φ2 = (lat2 * Math.PI) / 180;
      const Δφ = ((lat2 - lat1) * Math.PI) / 180;
      const Δλ = ((lon2 - lon1) * Math.PI) / 180;
      const a =
        Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +
        Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);
      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
      const distance = R * c; // in metres
      return distance;
    }

    function showError(error) {
      switch (error.code) {
        case error.PERMISSION_DENIED:
          document.getElementById("error").innerText =
            "User denied the request for Geolocation. Please enable location services to use this tool.";
          break;
        case error.POSITION_UNAVAILABLE:
          document.getElementById("error").innerText =
            "Location information is unavailable. Please check your GPS signal.";
          break;
        case error.TIMEOUT:
          document.getElementById("error").innerText =
            "The request to get user location timed out. Please try again.";
          break;
        case error.UNKNOWN_ERROR:
          document.getElementById("error").innerText =
            "An unknown error occurred. Please refresh the page and try again.";
          break;
      }
    }

    function showLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
          const {
            latitude,
            longitude
          } = position.coords;
          alert(`Your current location:\nLatitude: ${latitude}\nLongitude: ${longitude}\nAccuracy: ${position.coords.accuracy} meters`);
        }, showError);
      } else {
        document.getElementById('error').innerText = "Geolocation is not supported by this browser.";
      }
    }

    function startTracking() {
      try {
        let details = navigator.userAgent;
        let regexp = /android|iphone|kindle|ipad/i;
        let isMobileDevice = regexp.test(details);
        console.log(toggleaccuracy)
        var vartimeout;
        if (isMobileDevice) {
          vartimeout = 5000;
          console.log(`Mobile device detected - using faster update interval (${vartimeout}ms)`);
        } else {
          vartimeout = 15000;
          console.log(`Desktop detected - using slower update interval (${vartimeout}ms)`);
        }
      } catch (e) {
        console.error(`Error detecting device type: ${e}`)
      }

      if (navigator.geolocation) {
        watchID = navigator.geolocation.watchPosition(
          calculateSpeed,
          showError, {
          enableHighAccuracy: toggleaccuracy,
          maximumAge: 1000,
          timeout: 15000,
        }
        );
      } else {
        document.getElementById("error").innerText =
          "Geolocation is not supported by this browser. Please try a modern browser like Chrome, Firefox, or Safari.";
      }
    }

    function stopTracking() {
      try {
        if (navigator.geolocation && watchID !== undefined) {
          navigator.geolocation.clearWatch(watchID);
          watchID = undefined;
          document.getElementById("speed").innerText = "0";
          document.getElementById("accuracy").innerText = "0";
          avg.innerText = '0';
          ma.innerText = '0';
          speedCount = 0;
          totalSpeed = 0;
          maxspeed = 0;
          average = 0;
          console.log("stopping")
        }
      }
      catch (err) {
        console.error(err)
      }
    }

    // Initialize the page with better error handling
    document.addEventListener('DOMContentLoaded', function () {
      if (!navigator.geolocation) {
        document.getElementById('error').innerText =
          "Your browser doesn't support geolocation, which is required for this tool. " +
          "Please try a modern browser.";
      }
    });
  </script>
</body>

</html>